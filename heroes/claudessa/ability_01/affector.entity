<?xml version="1.0" encoding="UTF-8"?>
<affector
	name="Affector_Claudessa_Ability1"

	radius="225"

	maximpactspertarget="1"
	targetselection="all"
	targetscheme="enemy_units_and_buildings"
	effecttype="Magic"
	

	impacteffect="effects/impact_end.effect"
	
>

	<onspawn>
		<playeffect effect="effects/dragon.effect" source="this_proxy_entity" target="this_proxy_entity" />
	</onspawn>

	<onimpact>
		<propareaeffect center="this_position" radius="225" anim="flamehit" />
		<cantarget effecttype="CrowdControl">
			<applystate name="State_Stunned" duration="750"/>
			<unbind target="target_entity" />
			<setpos0 position="target_position" offsetspace="this_proxy_entity" offset="0 -350 0" />
			<spawnprojectile name="Projectile_Claudessa_Ability1_Bind" source="target_entity" target="pos0" bind="target_entity" bindturn="0" ignoretargetoffset="true" noresponse="true" orbitstartingtheta="0" bindpriority="2"/>
			<condition test="hasstate State_Claudessa_Ability1">
				<getconstant name="damage" adjustmentsource="source_owner_entity" />
				<damage effecttype="Magic Splash" source="source_owner_entity" significant="true" amount="0.3" b="result" op="mult"/>
			</condition>
			<else>
				<getconstant name="damage" adjustmentsource="source_owner_entity" />
				<damage effecttype="Magic Splash" source="source_owner_entity" significant="true" amount="1.3" b="result" op="mult"/>
			</else>
			
			<recordheroaggression  />
			<aggression />
		</cantarget>
	</onimpact>
</affector>
