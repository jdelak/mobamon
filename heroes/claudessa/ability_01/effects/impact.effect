<?xml version="1.0" encoding="UTF-8"?>
<effect deferred="1" useentityeffectscale="1">

	<definitions>

		<modifier
			name="modifier0"
			life="600"
			startcolor=".25"
			endcolor="1"
		/>

		<particlesystem name="system0" space="world"  scale=".2">

			<sound
				falloffstart="500"
				falloffend="2400"
				volume="0.55"
				sample="../sounds/sfx_impact_%.wav"
			/>

			<!-- bursts -->
			<template name="">
				<simpleemitter
					bone="_bone_centerofchest"
					delay="{zdelay}"
					spawnrate="1000"
					life="200"
					minparticlelife="200"
					maxparticlelife="600"
					gravity="{zgravity}"
					drag="{zdrag}"
					minspeed="5000"
					maxspeed="10000"
					acceleration="100"
					position="0 0 0"
					material="/shared/effects/smaterials/firesprite_swirl_purple.material"	
					minangle="90"
					maxangle="90"
					direction="0 0 1"
					directionalspace="world"
				>
					<particle 
						minangle="-360"
						maxangle="360"
						minanglespeed="-90"
						maxanglespeed="90"
						minstartscale=".5"
						maxstartscale="1"
						endscale="1"
						startcolor="1 1 1"
						midcolor="1 1 1"
						endcolor=".5 0 .5"
						midcolorpos=".25"
						startalpha=".75"
						midalpha=".75"
						endalpha="0"
						midalphapos=".65"
						startframe="0"
						endframe="1"
						startsize="400"
						endsize="0"
						turn="true"
					/>
				</simpleemitter>

				<simpleemitter
					bone="_bone_centerofchest"
					delay="{zdelay}"
					spawnrate="500"
					life="200"
					minparticlelife="250"
					maxparticlelife="750"
					gravity="{zgravity}"
					drag="{zdrag}"
					minspeed="5000"
					maxspeed="10000"
					acceleration="100"
					position="0 0 0"
					material="/shared/effects/smaterials/firesprite_pinkish.material"	
					minangle="90"
					maxangle="90"
					direction="0 0 1"
					depthbias="-50"
					directionalspace="world"
				>
					<particle 
						minangle="-360"
						maxangle="360"
						minanglespeed="-90"
						maxanglespeed="90"
						minstartscale=".5"
						maxstartscale="1"
						endscale="1"
						startcolor=".125"
						endcolor="0 0 0"
						midcolorpos=".35"
						startframe="0"
						endframe="1"
						startsize="300"
						endsize="0"
						turn="true"
					/>
				</simpleemitter>

			</template>
			
			<instance zdelay="0" zdrag=".013" zgravity="-250"/>
			<instance zdelay="0" zdrag=".024" zgravity="-250"/>

		</particlesystem>

	</definitions>

	<thread>
		<spawnparticlesystem instance="instance0" particlesystem="system0"/>
		<spawnmodifier instance="instance1" modifier="modifier0"/>
		<waitfordeath instance="instance0"/>
		<waitfordeath instance="instance1"/>
	</thread>

</effect>