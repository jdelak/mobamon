<?xml version="1.0" encoding="UTF-8"?>
<effect deferred="1" useentityeffectscale="1">

	<definitions>
	
		<modifier
			name="modifier0"
			life="1100"
			startcolor=".25"
			midcolor=".25"
			endcolor="1"
		/>

		<particlesystem name="system0" space="world"  scale=".7">

			<sound
				falloffstart="500"
				falloffend="2400"
				volume="0.55"
				sample="../sounds/sfx_impact_%.wav"
			/>

			<template name="fire">

				<simpleemitter
				delay="{zdelay}"
					position="{zpos}"
					life="800"
					bone="{zbone}"
					spawnrate="200"
					gravity="-50"
					speed="0"
					drag="0"
					minparticlelife="200"
					maxparticlelife="400"
					material="/shared/effects/smaterials/firesprite_swirl_purple.material"
					offsetsphere="40"
					depthbias="0"
				>
					<particle
						anchor="{zanchor}"
						minangle="0"
						maxangle="360"
						startframe="0"
						endframe="1"
						framespeed="2"
						startsize="150"
						endsize="0"
						startcolor="1 1 1"
						midcolor=".85 0 1"
						endcolor=".25 0 .35"
						startalpha="0"
						midalpha="1"
						endalpha="0"
						midalphapos=".2"
						turn="1"
					/>
				</simpleemitter>
				
				
				<simpleemitter
				delay="{zdelay}"
					position="{zpos}"
					life="800"
					bone="{zbone}"
					spawnrate="200"
					gravity="-50"
					speed="0"
					drag="0"
					minparticlelife="100"
					maxparticlelife="250"
					material="/shared/effects/smaterials/firesprite_swirl_blue.material"
					offsetsphere="40"
					depthbias="0"
				>
					<particle
						anchor="{zanchor}"
						minangle="0"
						maxangle="360"
						startframe="0"
						endframe="1"
						framespeed="2"
						startsize="150"
						endsize="0"
						startcolor="1 1 1"
						midcolor="1"
						endcolor="0 0 .5"
						startalpha="0"
						midalpha=".25"
						endalpha="0"
						midalphapos=".2"
						turn="1"
					/>
				</simpleemitter>
				
				
				
				
				
				
				<simpleemitter
				delay="{zdelay}"
					position="{zpos}"
					life="800"
					bone="{zbone}"
					spawnrate="200"
					gravity="-50"
					speed="0"
					drag="0"
					minparticlelife="200"
					maxparticlelife="500"
					material="/shared/effects/smaterials/firesprite_pinkish.material"
					offsetsphere="40"
					depthbias="0"
				>
					<particle
						anchor="{zanchor}"
						minangle="0"
						maxangle="360"
						startframe="0"
						endframe="1"
						framespeed="2"
						startsize="150"
						endsize="0"
						startcolor="0 0 0"
						midcolor=".05 .05 .05"
						endcolor="0 0 0"
						midcolorpos=".15"
						turn="1"
					/>
				</simpleemitter>
				
	
				
				
<!--
				<simpleemitter
				delay="{zdelay}"
					position="{zpos}"
					life="800"
					bone="{zbone}"
					spawnrate="200"
					gravity="-50"
					speed="0"
					drag="0"
					minparticlelife="300"
					maxparticlelife="600"
					material="/shared/effects/smaterials/firesprite_pinkish.material"
					offsetsphere="40"
					depthbias="0"
				>
					<particle
						anchor="{zanchor}"
						minangle="0"
						maxangle="360"
						startframe="0"
						endframe="1"
						framespeed="2"
						minsize="50"
						maxsize="80"
						startcolor=".8"
						endcolor="0 0 0"
						turn="1"
					/>
				</simpleemitter>
-->
				
				
<!--
				<simpleemitter
				delay="{zdelay}"
					position="{zpos}"				
					life="750"			
					bone="{zbone}"
					startspawnrate="0"		
					endspawnrate="200"		
					gravity="-23"
					speed="0"
					drag="0"
					particlelife="500"
					material="/shared/effects/smaterials/firesprite_blue.material"	
					offsetsphere="43"	
					depthbias="50"				
				>
					<particle 
						anchor="{zanchor}"
						minangle="0"
						maxangle="360"
						startframe="0"			
						endframe="1"
						framespeed="2"					
						minsize="{zminsize}"			
						maxsize="{zmaxsize}"			
						startcolor="1 1 1"
						midcolor="0 0 1"
						endcolor="0 0 0"
						midcolorpos=".25"
						startalpha="1"
						midalpha="1"
						endalpha="0"
						midalphapos=".25"
						turn="1"					
					/>
-->
				
			</template>

			<instance name="fire" zbone="_bone_centerofchest" zdelay="0" zanchor="1" zpos="0 0 -15" zminsize="45" zmaxsize="80"/>
			<instance name="fire" zbone="_bone_centerofchest" zdelay="0" zanchor="1" zpos="0 0 0" zminsize="45" zmaxsize="80"/>
			<instance name="fire" zbone="_bone_centerofchest" zdelay="0" zanchor="0" zpos="0 0 -15" zminsize="45" zmaxsize="80"/>
			<instance name="fire" zbone="_bone_centerofchest" zdelay="0" zanchor="0" zpos="0 0 0" zminsize="45" zmaxsize="80"/>

		</particlesystem>

	</definitions>

	<thread>
		<spawnparticlesystem instance="instance0" particlesystem="system0"/>
		<spawnmodifier instance="instance1" modifier="modifier0"/>
		<waitfordeath instance="instance0"/>
		<waitfordeath instance="instance1"/>
	</thread>

</effect>