<?xml version="1.0" encoding="UTF-8"?>
<package>
	
	<include file="main_chat_templates.package"/>	
	
	<trigger name="chatJoinChannelBoxEnter"/>
	<trigger name="chatSendChannelBoxEnter"/>
	<trigger name="chatSendChannelBoxEsc"/>
	<trigger name="chatUpdateChannelEntrySelection"/>
	<trigger name="ChatBoxKeyDown"/>
	
	<panel name="main_chat_base" noclick="1" >

	</panel>
	
	<!-- footer overlay -->
	<panel name="main_chat_footer_overlay_parent_1" noclick="1" height="64s" x="6s" y="-2s" width="800s" valign="bottom" visible="0" >
		
		<!-- tabs should be layered where the tab to the left is always on top -->
		<panel name="main_chat_footer_overlay_parent_2" grow="1" regrow="1" growinvis="0" reverse="true" noclick="1" >
			
			<panel name="main_chat_footer_overlay" grow="1" regrow="1" growinvis="0" noclick="1">
				
				<panel name="main_footer_chat_tab_group_1" sticky="1" stickytoinvis="0" visible="0" group="footer_chat_tabs_large_pinned_templates_group"
					height="64s" width="320s" color="invisible" passivechildren="0"
					onclicklua="
						self:GetWidget('main_footer_chat_tab_group_expanded_1'):SetVisible(not GetWidget('main_footer_chat_tab_group_expanded_1'):IsVisible())
					"
					onmouseoutlua="
						self:GetWidget('main_footer_chat_tab_group_1_1'):SetTexture('/ui/main/footer/textures/social_tab_std_l.tga')
						self:GetWidget('main_footer_chat_tab_group_1_2'):SetTexture('/ui/main/footer/textures/social_tab_std_c.tga')
						self:GetWidget('main_footer_chat_tab_group_1_3'):SetTexture('/ui/main/footer/textures/social_tab_std_l.tga')
					"
					onmouseoverlua="
						self:GetWidget('main_footer_chat_tab_group_1_1'):SetTexture('/ui/main/footer/textures/social_tab_msg_l.tga')
						self:GetWidget('main_footer_chat_tab_group_1_2'):SetTexture('/ui/main/footer/textures/social_tab_msg_c.tga')
						self:GetWidget('main_footer_chat_tab_group_1_3'):SetTexture('/ui/main/footer/textures/social_tab_msg_l.tga')
					"				
				>
					
					<panel name="main_footer_chat_tab_group_expanded_1" valign="bottom" y="-30s" x="-4" height="0" width="328s" visible="0"
						onclicklua="
							self:GetWidget('main_footer_chat_tab_group_expanded_1'):SetVisible(not GetWidget('main_footer_chat_tab_group_expanded_1'):IsVisible())
						"					
					>
					
						<frame texture="/ui/elements:rounded_bg_white" color="0 0 0 0.35" borderthickness="0.75h" noclick="1" />
						<panel hmargin="0.75h" vmargin="0.75h" noclick="1" >

							<frame texture="/ui/elements:rounded_bg_white" color="0 0 0 0.8" borderthickness="0.75h" noclick="1" />					
							
							<panel name="main_footer_chat_tab_group_insert_1" valign="bottom" y="0" padding="1" noclick="1" >
							
							</panel>

						</panel>
						
					</panel>
					
					<image name="main_footer_chat_tab_group_1_1" align="left" height="100%" width="32s" texture="/ui/main/footer/textures/social_tab_std_l.tga" noclick="1"/>
					<panel name="main_footer_chat_tab_group_1_2" x="17s" align="center" height="100%" width="-29s" texture="/ui/main/footer/textures/social_tab_std_c.tga" float="right" noclick="1"/>
					<image name="main_footer_chat_tab_group_1_3" x="32s" align="right" height="100%" width="32s" hflip="1" texture="/ui/main/footer/textures/social_tab_std_l.tga" noclick="1" />
					
					<label name="main_footer_chat_tab_group_1_label" x="36s" width="-50s" noclick="1" textalign="left" textvalign="center" font="maindyn_18" color="white" outline="true" outlinecolor="0 0 0 0.5" content="chat_group_value" 
						onloadlua="self:SetText(Translate('chat_group_value', 'value', 1))"
					/>
					
				</panel>
				
				<panel name="main_footer_chat_tab_group_2" sticky="1" stickytoinvis="0" visible="0" group="footer_chat_tabs_large_pinned_templates_group"
					height="64s" width="320s" color="invisible" passivechildren="0"
					onclicklua="
						self:GetWidget('main_footer_chat_tab_group_expanded_2'):SetVisible(not GetWidget('main_footer_chat_tab_group_expanded_2'):IsVisible())
					"
					onmouseoutlua="
						self:GetWidget('main_footer_chat_tab_group_2_1'):SetTexture('/ui/main/footer/textures/social_tab_std_l.tga')
						self:GetWidget('main_footer_chat_tab_group_2_2'):SetTexture('/ui/main/footer/textures/social_tab_std_c.tga')
						self:GetWidget('main_footer_chat_tab_group_2_3'):SetTexture('/ui/main/footer/textures/social_tab_std_l.tga')
					"
					onmouseoverlua="
						self:GetWidget('main_footer_chat_tab_group_2_1'):SetTexture('/ui/main/footer/textures/social_tab_msg_l.tga')
						self:GetWidget('main_footer_chat_tab_group_2_2'):SetTexture('/ui/main/footer/textures/social_tab_msg_c.tga')
						self:GetWidget('main_footer_chat_tab_group_2_3'):SetTexture('/ui/main/footer/textures/social_tab_msg_l.tga')
					"				
				>
					
					<panel name="main_footer_chat_tab_group_expanded_2" valign="bottom" y="-30s" x="-4" height="0" width="328s" visible="0"
						onclicklua="
							self:GetWidget('main_footer_chat_tab_group_expanded_2'):SetVisible(not GetWidget('main_footer_chat_tab_group_expanded_2'):IsVisible())
						"
					>
					
						<frame texture="/ui/elements:rounded_bg_white" color="0 0 0 0.35" borderthickness="0.75h" noclick="1" />
						<panel hmargin="0.75h" vmargin="0.75h" noclick="1" >

							<frame texture="/ui/elements:rounded_bg_white" color="0 0 0 0.8" borderthickness="0.75h" noclick="1" />					
							
							<panel name="main_footer_chat_tab_group_insert_2" valign="bottom" y="0" padding="1" noclick="1">
							
							</panel>

						</panel>
						
					</panel>
					
					<image name="main_footer_chat_tab_group_2_1" align="left" height="100%" width="32s" texture="/ui/main/footer/textures/social_tab_std_l.tga" noclick="1"/>
					<panel name="main_footer_chat_tab_group_2_2" x="17s" align="center" height="100%" width="-29s" texture="/ui/main/footer/textures/social_tab_std_c.tga" float="right" noclick="1"/>
					<image name="main_footer_chat_tab_group_2_3" x="32s" align="right" height="100%" width="32s" hflip="1" texture="/ui/main/footer/textures/social_tab_std_l.tga" noclick="1" />
					
					<label name="main_footer_chat_tab_group_2_label" x="36s" width="-50s" noclick="1" textalign="left" textvalign="center" font="maindyn_18" color="white" outline="true" outlinecolor="0 0 0 0.5" content="chat_group_value" 
						onloadlua="self:SetText(Translate('chat_group_value', 'value', 2))"
					/>
					
				</panel>				
				
			</panel>
			
			<panel name="main_chat_footer_overlay_2" width="34s" height="72s" y="32s" align="left" sticky="1" stickytoinvis="0"
				onclicklua="OnChatJoinChannelButtonClick()"
				onmouseoutlua="self:GetWidget('main_chat_footer_overlay_2_hover'):FadeOut(125)"
				onmouseoverlua="self:GetWidget('main_chat_footer_overlay_2_hover'):FadeIn(125)"
				>
				
				<!-- New/Search -->
				<panel y="-32s" height="64s" width="34s" color="invisible" passivechildren="1" noclick="1" >					
					<image x="-13s" align="left" height="100%" width="32s" texture="/ui/main/footer/textures/social_tab_std_l.tga" noclick="1" />
					<panel x="4s" align="center" height="100%" width="21s" texture="/ui/main/footer/textures/social_tab_std_c.tga" float="right" noclick="1"/>
					<image x="19s" align="right" height="100%" width="32s" hflip="1" texture="/ui/main/footer/textures/social_tab_std_l.tga" noclick="1" />
					<image x="4s" y="-3s" texture="/ui/shared/textures/plus_icon.tga" width="24s" height="24s" rendermode="grayscale" noclick="1" valign="bottom" align="center"/>
					
					<!-- Hover State -->
					<panel name="main_chat_footer_overlay_2_hover" visible="0" noclick="1">
						<image x="-13s" align="left" height="100%" width="64s" texture="/ui/main/footer/textures/social_tab_over.tga" rendermode="additive" color="1 1 1 0.6" noclick="1" />
					</panel>
				</panel>
				
				<panel name="chat_join_channel_overlay" x="325s" y="-40s" align="right" valign="bottom" width="361s" height="532s" noclick="1" visible="0" >
					
					
					<panel height="+8s" noclick="1">
						<frame texture="/ui/shared/frames/rounded_bg_solid.tga" borderthickness="8s" color="0 0 0 .9"/>
						<frame texture="/ui/shared/frames/border_double.tga" style="doubleFrame" color="invisible"/>
					</panel>
					
					<!-- Header -->
					<panel y="12s" width="-28s" height="24s" align="center" noclick="true">
						<label textvalign="center" style="h3" font="maindyn_30" content="social_chat_rooms" />
												
						<!-- Minimise Btn -->
						<instance name="iconButton" id="main_chat_minimise_button"
							icon="/ui/main/shared/textures/minimize.tga"
							onclicklua="
								self:GetWidget('chat_join_channel_overlay'):SetVisible(not self:GetWidget('chat_join_channel_overlay'):IsVisible())
							"	
							y="2s" align="right" borderthickness="4s" colorized="1"
						/>
					</panel>
				
					<panel name="chat_join_channel_area" y="50s" x="14s" height="-90s" width="-26s" noclick="true">

						<panel valign="bottom" height="100%" noclick="true"><!-- List area -->
							<panel width="-24s" noclick="true">
								<panel float="bottom" padding="4s" noclick="true">
									<instance name="chat_channel_joiner_entry" id="1"/>
									<instance name="chat_channel_joiner_entry" id="2"/>
									<instance name="chat_channel_joiner_entry" id="3"/>
									<instance name="chat_channel_joiner_entry" id="4"/>
									<instance name="chat_channel_joiner_entry" id="5"/>
									<instance name="chat_channel_joiner_entry" id="6"/>
									<instance name="chat_channel_joiner_entry" id="7"/>
									<instance name="chat_channel_joiner_entry" id="8"/>
									<instance name="chat_channel_joiner_entry" id="9"/>
									<instance name="chat_channel_joiner_entry" id="10"/>
								</panel>
								
								<panel name="channel_entry_no_results" noclick="1" passivechildren="true" visible="1" >
									<label name="channel_entry_no_results_label" y="0" textalign="center" textvalign="center" color="#CCCCCC" font="maindyn_24" shadow="true" noclick="true" content="game_shop_noresults"/>
								</panel>					
								
								<panel name="channelScrollPanel" hover="false" processonlyscroll="true"/>
							</panel>
							
							<scrollbar name="channelScrollBar" visible="1"
								texture="/ui/shared/textures/new_slider.tga"						
								handlewidth="16s" handleheight="256s" vertical="true"					
								width="16s" align="right" valign="center" height="100%" step="1" minvalue="0" maxvalue="0"
								hscrollbar="0"
								horizontal="false"					
							/>							
							
						</panel>
					</panel>
					
					<panel height="30s" width="250s" align="right" valign="bottom" noclick="true" y="-3s" x="-48s" >

						<instance name="dialogWrapper2"/>
						<frame texture="/ui/shared/frames/text_input.tga" borderthickness="4s" noclick="true"/>
						<label name="chat_join_channel_coverup" x="5s" y="-1s" noclick="true" textvalign="center" valign="center" color="0 0 0 0.7" font="maindyn_18" content="social_enter_channel_name"/>
						
						<textbox name="chat_join_channel_input_box" 
							style="textBox1Input"  
							textcolor="0 0 0 1" y="2s"
							onesc="Cmd('Script mainUI.chatManager.ChannelJoinInputOnEsc(self)')"
							onenter="Cmd('Script mainUI.chatManager.ChannelJoinInputOnEnter(self)')"
						/>
						
						<instance name="iconButton" id="chat_join_channel_input_btn" x="35s"
							icon="/ui/main/chat/textures/find_room.tga" iconsize="78" iconX="1s"
							width="100@" height="100%" align="right" valign="center" borderthickness="4s"
						/>
					</panel>
					
					<!-- New/Search Duplicate -->
					<panel x="2" height="64s" width="34s" valign="bottom" color="invisible" passivechildren="1"
						onclicklua="
							self:GetWidget('chat_join_channel_overlay'):SetVisible(not self:GetWidget('chat_join_channel_overlay'):IsVisible())
						"
						onmouseoutlua="self:GetWidget('main_chat_footer_overlay_3_hover'):FadeOut(125)"
						onmouseoverlua="self:GetWidget('main_chat_footer_overlay_3_hover'):FadeIn(125)"
					>					
						<image x="-13s" align="left" height="100%" width="32s" texture="/ui/main/footer/textures/social_tab_msg_l.tga" noclick="1"/>
						<panel x="4s" align="center" height="100%" width="21s" texture="/ui/main/footer/textures/social_tab_msg_c.tga" float="right" noclick="1"/>
						<image x="19s" align="right" height="100%" width="32s" hflip="1" texture="/ui/main/footer/textures/social_tab_msg_l.tga" noclick="1" />
						<image x="4s" y="-3s" texture="/ui/shared/textures/plus_icon.tga" width="24s" height="24s" rendermode="grayscale" noclick="1" valign="bottom" align="center"/>
						
						<!-- Hover State -->
						<panel name="main_chat_footer_overlay_3_hover" visible="0" noclick="1">
							<image x="-13s" align="left" height="100%" width="64s" texture="/ui/main/footer/textures/social_tab_over.tga" rendermode="additive" color="1 1 1 0.6" noclick="1" />
						</panel>
					</panel>					
				</panel>				
				
			</panel>

		</panel>
	</panel>
	
	<panel name="main_chat_sleeper" noclick="1" />
	
</package>